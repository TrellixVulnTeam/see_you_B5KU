{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/_services/message.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nimport * as i4 from \"ngx-timeago\";\nconst _c0 = [\"messageForm\"];\n\nfunction MemberMessagesComponent_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \" No messages yet... say hi by using the message box below \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction MemberMessagesComponent_ul_3_li_2_span_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 20);\n    i0.ɵɵtext(1, \" (unread) \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction MemberMessagesComponent_ul_3_li_2_span_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 21);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"timeago\");\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const message_r3 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" (read \", i0.ɵɵpipeBind1(2, 1, message_r3.dateRead), \") \");\n  }\n}\n\nfunction MemberMessagesComponent_ul_3_li_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\");\n    i0.ɵɵelementStart(1, \"div\");\n    i0.ɵɵelementStart(2, \"span\", 12);\n    i0.ɵɵelement(3, \"img\", 13);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 14);\n    i0.ɵɵelementStart(5, \"div\", 15);\n    i0.ɵɵelementStart(6, \"small\", 16);\n    i0.ɵɵelementStart(7, \"span\", 17);\n    i0.ɵɵtext(8);\n    i0.ɵɵpipe(9, \"timeago\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(10, MemberMessagesComponent_ul_3_li_2_span_10_Template, 2, 0, \"span\", 18);\n    i0.ɵɵtemplate(11, MemberMessagesComponent_ul_3_li_2_span_11_Template, 3, 3, \"span\", 19);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"p\");\n    i0.ɵɵtext(13);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const message_r3 = ctx.$implicit;\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(3);\n    i0.ɵɵpropertyInterpolate(\"src\", message_r3.senderPhotoUrl || \"./assets/user.png\", i0.ɵɵsanitizeUrl);\n    i0.ɵɵpropertyInterpolate(\"alt\", message_r3.senderUsername);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(9, 6, message_r3.messageSent));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", !message_r3.dateRead && message_r3.senderUsername !== ctx_r2.username);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", message_r3.dateRead && message_r3.senderUsername !== ctx_r2.username);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(message_r3 == null ? null : message_r3.content);\n  }\n}\n\nfunction MemberMessagesComponent_ul_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ul\", 10);\n    i0.ɵɵtext(1, \" *ngIf=\\\"(messageService.messageThread$ | async).length > 0\\\" \");\n    i0.ɵɵtemplate(2, MemberMessagesComponent_ul_3_li_2_Template, 14, 8, \"li\", 11);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.messages);\n  }\n}\n\nexport class MemberMessagesComponent {\n  // messageContent: string;\n  // loading = false;\n  constructor(messageService) {\n    this.messageService = messageService;\n  }\n\n  ngOnInit() {\n    this.loadMessages();\n  }\n\n  loadMessages() {\n    this.messageService.getMessageThread(this.username).subscribe(messages => {\n      this.messages = messages;\n    });\n  }\n\n}\n\nMemberMessagesComponent.ɵfac = function MemberMessagesComponent_Factory(t) {\n  return new (t || MemberMessagesComponent)(i0.ɵɵdirectiveInject(i1.MessageService));\n};\n\nMemberMessagesComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: MemberMessagesComponent,\n  selectors: [[\"app-member-messages\"]],\n  viewQuery: function MemberMessagesComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵviewQuery(_c0, 5);\n    }\n\n    if (rf & 2) {\n      let _t;\n\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.messageForm = _t.first);\n    }\n  },\n  inputs: {\n    username: \"username\"\n  },\n  decls: 11,\n  vars: 2,\n  consts: [[1, \"card\"], [1, \"card-body\"], [4, \"ngIf\"], [\"class\", \"chat\", 4, \"ngIf\"], [1, \"card-footer\"], [\"autocomplete\", \"off\\n        \"], [1, \"input-group\"], [\"name\", \"messageContent\", \"required\", \"\", \"type\", \"text\", \"placeholder\", \"Send a private message\", 1, \"form-control\", \"input-sm\"], [1, \"input-group-append\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\"], [1, \"chat\"], [4, \"ngFor\", \"ngForOf\"], [1, \"chat-img\", \"float-end\"], [1, \"rounded-circle\", 3, \"src\", \"alt\"], [1, \"chat-body\"], [1, \"header\"], [1, \"text-muted\"], [1, \"fa\", \"fa-clock-o\"], [\"class\", \"text-danger\", 4, \"ngIf\"], [\"class\", \"text-success\", 4, \"ngIf\"], [1, \"text-danger\"], [1, \"text-success\"]],\n  template: function MemberMessagesComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0);\n      i0.ɵɵelementStart(1, \"div\", 1);\n      i0.ɵɵtemplate(2, MemberMessagesComponent_div_2_Template, 2, 0, \"div\", 2);\n      i0.ɵɵtemplate(3, MemberMessagesComponent_ul_3_Template, 3, 1, \"ul\", 3);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"div\", 4);\n      i0.ɵɵelementStart(5, \"form\", 5);\n      i0.ɵɵelementStart(6, \"div\", 6);\n      i0.ɵɵelement(7, \"input\", 7);\n      i0.ɵɵelementStart(8, \"div\", 8);\n      i0.ɵɵelementStart(9, \"button\", 9);\n      i0.ɵɵtext(10, \" Send \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", (ctx.messages == null ? null : ctx.messages.length) === 0);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", (ctx.messages == null ? null : ctx.messages.length) > 0);\n    }\n  },\n  directives: [i2.NgIf, i3.ɵNgNoValidate, i3.NgControlStatusGroup, i3.NgForm, i2.NgForOf],\n  pipes: [i4.TimeagoPipe],\n  styles: [\".card[_ngcontent-%COMP%] {\\r\\n    border: none;\\r\\n}\\r\\n\\r\\n.chat[_ngcontent-%COMP%] {\\r\\n    list-style: none;\\r\\n    margin: 0;\\r\\n    padding: 0;\\r\\n}\\r\\n\\r\\n.chat[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] {\\r\\n    margin-bottom: 10px;\\r\\n    padding-bottom: 10px;\\r\\n    border-bottom: 1px dotted #B3A9A9;\\r\\n}\\r\\n\\r\\n.rounded-circle[_ngcontent-%COMP%] {\\r\\n    max-height: 50px;\\r\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1lbWJlci1tZXNzYWdlcy5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksWUFBWTtBQUNoQjs7QUFFQTtJQUNJLGdCQUFnQjtJQUNoQixTQUFTO0lBQ1QsVUFBVTtBQUNkOztBQUVBO0lBQ0ksbUJBQW1CO0lBQ25CLG9CQUFvQjtJQUNwQixpQ0FBaUM7QUFDckM7O0FBRUE7SUFDSSxnQkFBZ0I7QUFDcEIiLCJmaWxlIjoibWVtYmVyLW1lc3NhZ2VzLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuY2FyZCB7XHJcbiAgICBib3JkZXI6IG5vbmU7XHJcbn1cclxuXHJcbi5jaGF0IHtcclxuICAgIGxpc3Qtc3R5bGU6IG5vbmU7XHJcbiAgICBtYXJnaW46IDA7XHJcbiAgICBwYWRkaW5nOiAwO1xyXG59XHJcblxyXG4uY2hhdCBsaSB7XHJcbiAgICBtYXJnaW4tYm90dG9tOiAxMHB4O1xyXG4gICAgcGFkZGluZy1ib3R0b206IDEwcHg7XHJcbiAgICBib3JkZXItYm90dG9tOiAxcHggZG90dGVkICNCM0E5QTk7XHJcbn1cclxuXHJcbi5yb3VuZGVkLWNpcmNsZSB7XHJcbiAgICBtYXgtaGVpZ2h0OiA1MHB4O1xyXG59Il19 */\"],\n  changeDetection: 0\n});","map":{"version":3,"sources":["C:/Users/rober/Desktop/New folder/SD/seeyou/client/src/app/members/member-messages/member-messages.component.ts"],"names":["i0","i1","i2","i3","i4","_c0","MemberMessagesComponent_div_2_Template","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","MemberMessagesComponent_ul_3_li_2_span_10_Template","MemberMessagesComponent_ul_3_li_2_span_11_Template","ɵɵpipe","message_r3","ɵɵnextContext","$implicit","ɵɵadvance","ɵɵtextInterpolate1","ɵɵpipeBind1","dateRead","MemberMessagesComponent_ul_3_li_2_Template","ɵɵelement","ɵɵtemplate","ctx_r2","ɵɵpropertyInterpolate","senderPhotoUrl","ɵɵsanitizeUrl","senderUsername","ɵɵtextInterpolate","messageSent","ɵɵproperty","username","content","MemberMessagesComponent_ul_3_Template","ctx_r1","messages","MemberMessagesComponent","constructor","messageService","ngOnInit","loadMessages","getMessageThread","subscribe","ɵfac","MemberMessagesComponent_Factory","t","ɵɵdirectiveInject","MessageService","ɵcmp","ɵɵdefineComponent","type","selectors","viewQuery","MemberMessagesComponent_Query","ɵɵviewQuery","_t","ɵɵqueryRefresh","ɵɵloadQuery","messageForm","first","inputs","decls","vars","consts","template","MemberMessagesComponent_Template","length","directives","NgIf","ɵNgNoValidate","NgControlStatusGroup","NgForm","NgForOf","pipes","TimeagoPipe","styles","changeDetection"],"mappings":"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","sourcesContent":["import * as i0 from \"@angular/core\";\r\nimport * as i1 from \"src/app/_services/message.service\";\r\nimport * as i2 from \"@angular/common\";\r\nimport * as i3 from \"@angular/forms\";\r\nimport * as i4 from \"ngx-timeago\";\r\nconst _c0 = [\"messageForm\"];\r\nfunction MemberMessagesComponent_div_2_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementStart(0, \"div\");\r\n    i0.ɵɵtext(1, \" No messages yet... say hi by using the message box below \");\r\n    i0.ɵɵelementEnd();\r\n} }\r\nfunction MemberMessagesComponent_ul_3_li_2_span_10_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementStart(0, \"span\", 20);\r\n    i0.ɵɵtext(1, \" (unread) \");\r\n    i0.ɵɵelementEnd();\r\n} }\r\nfunction MemberMessagesComponent_ul_3_li_2_span_11_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementStart(0, \"span\", 21);\r\n    i0.ɵɵtext(1);\r\n    i0.ɵɵpipe(2, \"timeago\");\r\n    i0.ɵɵelementEnd();\r\n} if (rf & 2) {\r\n    const message_r3 = i0.ɵɵnextContext().$implicit;\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵtextInterpolate1(\" (read \", i0.ɵɵpipeBind1(2, 1, message_r3.dateRead), \") \");\r\n} }\r\nfunction MemberMessagesComponent_ul_3_li_2_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementStart(0, \"li\");\r\n    i0.ɵɵelementStart(1, \"div\");\r\n    i0.ɵɵelementStart(2, \"span\", 12);\r\n    i0.ɵɵelement(3, \"img\", 13);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(4, \"div\", 14);\r\n    i0.ɵɵelementStart(5, \"div\", 15);\r\n    i0.ɵɵelementStart(6, \"small\", 16);\r\n    i0.ɵɵelementStart(7, \"span\", 17);\r\n    i0.ɵɵtext(8);\r\n    i0.ɵɵpipe(9, \"timeago\");\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵtemplate(10, MemberMessagesComponent_ul_3_li_2_span_10_Template, 2, 0, \"span\", 18);\r\n    i0.ɵɵtemplate(11, MemberMessagesComponent_ul_3_li_2_span_11_Template, 3, 3, \"span\", 19);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(12, \"p\");\r\n    i0.ɵɵtext(13);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementEnd();\r\n} if (rf & 2) {\r\n    const message_r3 = ctx.$implicit;\r\n    const ctx_r2 = i0.ɵɵnextContext(2);\r\n    i0.ɵɵadvance(3);\r\n    i0.ɵɵpropertyInterpolate(\"src\", message_r3.senderPhotoUrl || \"./assets/user.png\", i0.ɵɵsanitizeUrl);\r\n    i0.ɵɵpropertyInterpolate(\"alt\", message_r3.senderUsername);\r\n    i0.ɵɵadvance(5);\r\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(9, 6, message_r3.messageSent));\r\n    i0.ɵɵadvance(2);\r\n    i0.ɵɵproperty(\"ngIf\", !message_r3.dateRead && message_r3.senderUsername !== ctx_r2.username);\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵproperty(\"ngIf\", message_r3.dateRead && message_r3.senderUsername !== ctx_r2.username);\r\n    i0.ɵɵadvance(2);\r\n    i0.ɵɵtextInterpolate(message_r3 == null ? null : message_r3.content);\r\n} }\r\nfunction MemberMessagesComponent_ul_3_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementStart(0, \"ul\", 10);\r\n    i0.ɵɵtext(1, \" *ngIf=\\\"(messageService.messageThread$ | async).length > 0\\\" \");\r\n    i0.ɵɵtemplate(2, MemberMessagesComponent_ul_3_li_2_Template, 14, 8, \"li\", 11);\r\n    i0.ɵɵelementEnd();\r\n} if (rf & 2) {\r\n    const ctx_r1 = i0.ɵɵnextContext();\r\n    i0.ɵɵadvance(2);\r\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.messages);\r\n} }\r\nexport class MemberMessagesComponent {\r\n    // messageContent: string;\r\n    // loading = false;\r\n    constructor(messageService) {\r\n        this.messageService = messageService;\r\n    }\r\n    ngOnInit() {\r\n        this.loadMessages();\r\n    }\r\n    loadMessages() {\r\n        this.messageService.getMessageThread(this.username).subscribe(messages => {\r\n            this.messages = messages;\r\n        });\r\n    }\r\n}\r\nMemberMessagesComponent.ɵfac = function MemberMessagesComponent_Factory(t) { return new (t || MemberMessagesComponent)(i0.ɵɵdirectiveInject(i1.MessageService)); };\r\nMemberMessagesComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: MemberMessagesComponent, selectors: [[\"app-member-messages\"]], viewQuery: function MemberMessagesComponent_Query(rf, ctx) { if (rf & 1) {\r\n        i0.ɵɵviewQuery(_c0, 5);\r\n    } if (rf & 2) {\r\n        let _t;\r\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.messageForm = _t.first);\r\n    } }, inputs: { username: \"username\" }, decls: 11, vars: 2, consts: [[1, \"card\"], [1, \"card-body\"], [4, \"ngIf\"], [\"class\", \"chat\", 4, \"ngIf\"], [1, \"card-footer\"], [\"autocomplete\", \"off\\n        \"], [1, \"input-group\"], [\"name\", \"messageContent\", \"required\", \"\", \"type\", \"text\", \"placeholder\", \"Send a private message\", 1, \"form-control\", \"input-sm\"], [1, \"input-group-append\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\"], [1, \"chat\"], [4, \"ngFor\", \"ngForOf\"], [1, \"chat-img\", \"float-end\"], [1, \"rounded-circle\", 3, \"src\", \"alt\"], [1, \"chat-body\"], [1, \"header\"], [1, \"text-muted\"], [1, \"fa\", \"fa-clock-o\"], [\"class\", \"text-danger\", 4, \"ngIf\"], [\"class\", \"text-success\", 4, \"ngIf\"], [1, \"text-danger\"], [1, \"text-success\"]], template: function MemberMessagesComponent_Template(rf, ctx) { if (rf & 1) {\r\n        i0.ɵɵelementStart(0, \"div\", 0);\r\n        i0.ɵɵelementStart(1, \"div\", 1);\r\n        i0.ɵɵtemplate(2, MemberMessagesComponent_div_2_Template, 2, 0, \"div\", 2);\r\n        i0.ɵɵtemplate(3, MemberMessagesComponent_ul_3_Template, 3, 1, \"ul\", 3);\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(4, \"div\", 4);\r\n        i0.ɵɵelementStart(5, \"form\", 5);\r\n        i0.ɵɵelementStart(6, \"div\", 6);\r\n        i0.ɵɵelement(7, \"input\", 7);\r\n        i0.ɵɵelementStart(8, \"div\", 8);\r\n        i0.ɵɵelementStart(9, \"button\", 9);\r\n        i0.ɵɵtext(10, \" Send \");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n    } if (rf & 2) {\r\n        i0.ɵɵadvance(2);\r\n        i0.ɵɵproperty(\"ngIf\", (ctx.messages == null ? null : ctx.messages.length) === 0);\r\n        i0.ɵɵadvance(1);\r\n        i0.ɵɵproperty(\"ngIf\", (ctx.messages == null ? null : ctx.messages.length) > 0);\r\n    } }, directives: [i2.NgIf, i3.ɵNgNoValidate, i3.NgControlStatusGroup, i3.NgForm, i2.NgForOf], pipes: [i4.TimeagoPipe], styles: [\".card[_ngcontent-%COMP%] {\\r\\n    border: none;\\r\\n}\\r\\n\\r\\n.chat[_ngcontent-%COMP%] {\\r\\n    list-style: none;\\r\\n    margin: 0;\\r\\n    padding: 0;\\r\\n}\\r\\n\\r\\n.chat[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] {\\r\\n    margin-bottom: 10px;\\r\\n    padding-bottom: 10px;\\r\\n    border-bottom: 1px dotted #B3A9A9;\\r\\n}\\r\\n\\r\\n.rounded-circle[_ngcontent-%COMP%] {\\r\\n    max-height: 50px;\\r\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1lbWJlci1tZXNzYWdlcy5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksWUFBWTtBQUNoQjs7QUFFQTtJQUNJLGdCQUFnQjtJQUNoQixTQUFTO0lBQ1QsVUFBVTtBQUNkOztBQUVBO0lBQ0ksbUJBQW1CO0lBQ25CLG9CQUFvQjtJQUNwQixpQ0FBaUM7QUFDckM7O0FBRUE7SUFDSSxnQkFBZ0I7QUFDcEIiLCJmaWxlIjoibWVtYmVyLW1lc3NhZ2VzLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuY2FyZCB7XHJcbiAgICBib3JkZXI6IG5vbmU7XHJcbn1cclxuXHJcbi5jaGF0IHtcclxuICAgIGxpc3Qtc3R5bGU6IG5vbmU7XHJcbiAgICBtYXJnaW46IDA7XHJcbiAgICBwYWRkaW5nOiAwO1xyXG59XHJcblxyXG4uY2hhdCBsaSB7XHJcbiAgICBtYXJnaW4tYm90dG9tOiAxMHB4O1xyXG4gICAgcGFkZGluZy1ib3R0b206IDEwcHg7XHJcbiAgICBib3JkZXItYm90dG9tOiAxcHggZG90dGVkICNCM0E5QTk7XHJcbn1cclxuXHJcbi5yb3VuZGVkLWNpcmNsZSB7XHJcbiAgICBtYXgtaGVpZ2h0OiA1MHB4O1xyXG59Il19 */\"], changeDetection: 0 });\r\n"]},"metadata":{},"sourceType":"module"}